import{a as ht,c as pt,r,j as e,P as ft,C as Ye,d as gt,V as Be,R as Ge,f as Z,A as We,g as Qe,X as we,T as He,D as Je,h as yt,S as jt,u as G,i as De,k as se,l as Xe,L as R,m as fe,n as Ee,o as Ze,p as Nt,q as es,v as vt,w as wt,x as bt,y as St,E as ss,z as ts,B as Ct,G as as,F as Pt,U as Tt,H as rs,I as ns,J as ls,K as is,M as It,N as os,O as kt,Q as ds,W as cs,Y as ms,Z as us,_ as xs,$ as hs,a0 as ps,a1 as fs,a2 as gs,a3 as Lt,a4 as Rt,a5 as le,a6 as ys,a7 as ie,a8 as js,a9 as oe,aa as de,ab as Ns,ac as Ft,ad as vs,ae as At,af as Dt,ag as ws,ah as Et,ai as qt,aj as k,ak as be,al as bs,am as Ss,an as Mt,ao as Cs,ap as Ps,aq as Ts,ar as Ot,as as Is,at as zt,au as ks,av as Ls,aw as $t,ax as Rs,ay as Ut,az as Fs,aA as Kt,aB as As,aC as Ds,aD as Vt,aE as _t,aF as Es,aG as Yt,aH as Bt,aI as qe,aJ as Me,aK as Gt,aL as Wt,aM as Qt,aN as Ht,aO as Oe,aP as Jt,aQ as Xt,aR as Zt,aS as ea,aT as qs,aU as Ms,aV as sa,aW as ta,aX as aa,aY as ra,aZ as ze,a_ as na,a$ as la,b0 as ia,b1 as oa}from"./vendor-CHSXtDvg.js";import{V as da,I as ca}from"./vendor_charts-BHlulLiy.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();function c(...s){return ht(pt(s))}const ma=gt,ua=r.forwardRef(({className:s,sideOffset:a=4,...t},n)=>e.jsx(ft,{children:e.jsx(Ye,{ref:n,sideOffset:a,className:c("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...t})}));ua.displayName=Ye.displayName;const xa=1,ha=1e6;let xe=0;function pa(){return xe=(xe+1)%Number.MAX_SAFE_INTEGER,xe.toString()}const he=new Map,$e=s=>{if(he.has(s))return;const a=setTimeout(()=>{he.delete(s),H({type:"REMOVE_TOAST",toastId:s})},ha);he.set(s,a)},fa=(s,a)=>{switch(a.type){case"ADD_TOAST":return{...s,toasts:[a.toast,...s.toasts].slice(0,xa)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(t=>t.id===a.toast.id?{...t,...a.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=a;return t?$e(t):s.toasts.forEach(n=>{$e(n.id)}),{...s,toasts:s.toasts.map(n=>n.id===t||t===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return a.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(t=>t.id!==a.toastId)}}},te=[];let ae={toasts:[]};function H(s){ae=fa(ae,s),te.forEach(a=>{a(ae)})}function ga({...s}){const a=pa(),t=l=>H({type:"UPDATE_TOAST",toast:{...l,id:a}}),n=()=>H({type:"DISMISS_TOAST",toastId:a});return H({type:"ADD_TOAST",toast:{...s,id:a,open:!0,onOpenChange:l=>{l||n()}}}),{id:a,dismiss:n,update:t}}function z(){const[s,a]=r.useState(ae);return r.useEffect(()=>(te.push(a),()=>{const t=te.indexOf(a);t>-1&&te.splice(t,1)}),[s]),{...s,toast:ga,dismiss:t=>H({type:"DISMISS_TOAST",toastId:t})}}const ya=yt,Os=r.forwardRef(({className:s,...a},t)=>e.jsx(Be,{ref:t,className:c("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...a}));Os.displayName=Be.displayName;const ja=Z("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zs=r.forwardRef(({className:s,variant:a,...t},n)=>e.jsx(Ge,{ref:n,className:c(ja({variant:a}),s),...t}));zs.displayName=Ge.displayName;const Na=r.forwardRef(({className:s,...a},t)=>e.jsx(We,{ref:t,className:c("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...a}));Na.displayName=We.displayName;const $s=r.forwardRef(({className:s,...a},t)=>e.jsx(Qe,{ref:t,className:c("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...a,children:e.jsx(we,{className:"h-4 w-4"})}));$s.displayName=Qe.displayName;const Us=r.forwardRef(({className:s,...a},t)=>e.jsx(He,{ref:t,className:c("text-sm font-semibold [&+div]:text-xs",s),...a}));Us.displayName=He.displayName;const Ks=r.forwardRef(({className:s,...a},t)=>e.jsx(Je,{ref:t,className:c("text-sm opacity-90",s),...a}));Ks.displayName=Je.displayName;function va(){const{toasts:s}=z();return e.jsxs(ya,{children:[s.map(function({id:a,title:t,description:n,action:l,...o}){return e.jsxs(zs,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[t&&e.jsx(Us,{children:t}),n&&e.jsx(Ks,{children:n})]}),l,e.jsx($s,{})]},a)}),e.jsx(Os,{})]})}const wa=Z("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),T=r.forwardRef(({className:s,variant:a,size:t,asChild:n=!1,...l},o)=>{const i=n?jt:"button";return e.jsx(i,{className:c(wa({variant:a,size:t,className:s})),ref:o,...l})});T.displayName="Button";const ba=Z("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ge({className:s,variant:a,...t}){return e.jsx("div",{className:c(ba({variant:a}),s),...t})}const b=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:c("rounded-xl border bg-card text-card-foreground shadow",s),...a}));b.displayName="Card";const K=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:c("flex flex-col space-y-1.5 p-6",s),...a}));K.displayName="CardHeader";const V=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:c("font-semibold leading-none tracking-tight",s),...a}));V.displayName="CardTitle";const J=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:c("text-sm text-muted-foreground",s),...a}));J.displayName="CardDescription";const q=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:c("p-6 pt-0",s),...a}));q.displayName="CardContent";const Se=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:c("flex items-center p-6 pt-0",s),...a}));Se.displayName="CardFooter";const Sa=()=>{const s=G(),[a,t]=De.useState(new Date);De.useEffect(()=>{const o=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(o)},[]);const n=()=>a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"}),l=()=>a.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx("header",{className:"border-b bg-white",children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between h-16 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"bg-primary h-8 w-8 rounded flex items-center justify-center",children:e.jsx(se,{className:"h-4 w-4 text-white"})}),e.jsx("h1",{className:"text-xl font-bold",children:"Portfolio Manager"})]}),e.jsx("div",{className:"hidden md:flex items-center gap-4",children:e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden lg:inline",children:l()}),e.jsx("span",{children:n()})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{to:"/login",children:e.jsx(T,{variant:"ghost",size:"sm",children:"Sign In"})}),e.jsx(R,{to:"/register",children:e.jsx(T,{size:"sm",children:"Get Started"})})]})]})}),e.jsx("section",{className:"bg-gradient-to-b from-background to-sky-100/50 py-16 md:py-24",children:e.jsxs("div",{className:"container mx-auto px-4 flex flex-col lg:flex-row items-center gap-12",children:[e.jsxs("div",{className:"flex-1 space-y-8",children:[e.jsxs(ge,{variant:"secondary",className:"px-3 py-1",children:[e.jsx(fe,{className:"h-3.5 w-3.5 mr-1"}),e.jsx("span",{children:"Advanced Portfolio Management"})]}),e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight",children:"Manage Your Investments with Confidence"}),e.jsx("p",{className:"text-lg md:text-xl text-muted-foreground",children:"Track positions, monitor performance, and make informed decisions with our powerful portfolio management platform."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(T,{size:"lg",onClick:()=>s("/register"),className:"gap-2",children:["Create Free Account",e.jsx(Ee,{className:"h-4 w-4"})]}),e.jsx(T,{size:"lg",variant:"outline",onClick:()=>s("/dashboard"),children:"View Demo Dashboard"})]})]}),e.jsx("div",{className:"flex-1",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop",alt:"Portfolio Management Dashboard",className:"rounded-lg shadow-xl w-full"})})]})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Powerful Features for Investors"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsx(b,{className:"portfolio-card",children:e.jsxs(q,{className:"p-6",children:[e.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-lg flex items-center justify-center mb-5",children:e.jsx(se,{className:"h-6 w-6 text-primary"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Position Tracking"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor all your investment positions in real-time with detailed analytics and performance metrics."})]})}),e.jsx(b,{className:"portfolio-card",children:e.jsxs(q,{className:"p-6",children:[e.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-lg flex items-center justify-center mb-5",children:e.jsx(Ze,{className:"h-6 w-6 text-primary"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Advanced Analytics"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize performance trends, analyze risk metrics, and gain insights to optimize your investment strategy."})]})}),e.jsx(b,{className:"portfolio-card",children:e.jsxs(q,{className:"p-6",children:[e.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-lg flex items-center justify-center mb-5",children:e.jsx(Nt,{className:"h-6 w-6 text-primary"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Profit & Loss Tracking"}),e.jsx("p",{className:"text-muted-foreground",children:"Detailed P&L reports with daily, weekly, and monthly breakdowns to understand your portfolio performance."})]})})]})]})}),e.jsx("section",{className:"py-16 bg-gradient-to-b from-sky-50/50 to-background",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Powerful Dashboard Experience"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Our intuitive dashboard gives you complete visibility into your investments, with powerful tools to make informed decisions."})]}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=1200&h=600&fit=crop",alt:"Dashboard Preview",className:"rounded-xl shadow-xl w-full"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent rounded-xl flex items-end",children:e.jsxs("div",{className:"p-6 md:p-10 text-white",children:[e.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Ready to take control of your portfolio?"}),e.jsxs(T,{size:"lg",onClick:()=>s("/register"),className:"gap-2 bg-white text-primary hover:bg-white/90 hover:text-primary",children:["Get Started Today",e.jsx(Ee,{className:"h-4 w-4"})]})]})})]})]})}),e.jsx("footer",{className:"bg-muted py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"bg-primary h-8 w-8 rounded flex items-center justify-center",children:e.jsx(se,{className:"h-4 w-4 text-white"})}),e.jsx("h2",{className:"text-xl font-bold",children:"Portfolio Manager"})]}),e.jsxs("div",{className:"text-center md:text-right",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["© ",new Date().getFullYear()," Portfolio Manager. All rights reserved."]}),e.jsxs("div",{className:"mt-2 flex items-center justify-center md:justify-end gap-4",children:[e.jsx(R,{to:"/terms",className:"text-sm text-muted-foreground hover:text-foreground",children:"Terms"}),e.jsx(R,{to:"/privacy",className:"text-sm text-muted-foreground hover:text-foreground",children:"Privacy"}),e.jsx(R,{to:"/contact",className:"text-sm text-muted-foreground hover:text-foreground",children:"Contact"})]})]})]})})})]})};function Ca(){const s=G();return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-6xl mb-4",children:"404"}),e.jsx("p",{className:"mb-6",children:"Page not found"}),e.jsx(T,{onClick:()=>s("/"),variant:"link",children:"Return home"})]})})}const C=r.forwardRef(({className:s,type:a,...t},n)=>e.jsx("input",{type:a,className:c("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:n,...t}));C.displayName="Input";const Pa=Z("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),S=r.forwardRef(({className:s,...a},t)=>e.jsx(es,{ref:t,className:c(Pa(),s),...a}));S.displayName=es.displayName;const U=vt.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"},withCredentials:!0});U.interceptors.request.use(s=>{const a=localStorage.getItem("token");return a&&(s.headers.Authorization=`Bearer ${a}`),s},s=>Promise.reject(s));U.interceptors.response.use(s=>s,s=>{var a,t;return((a=s.response)==null?void 0:a.status)===401&&(console.error("Unauthorized, redirecting to login..."),window.location.href="/login"),((t=s.response)==null?void 0:t.status)>=500&&console.error("Server error:",s.response),Promise.reject(s)});const _=wt()(bt(s=>({user:null,isAuthenticated:!1,isLoading:!1,login:async(a,t)=>{var n,l;s({isLoading:!0});try{if(a==="test@example.com"&&t==="123456"){s({user:{id:"1",name:"Demo User",email:a,avatar:null},isAuthenticated:!0,isLoading:!1});return}const{data:o}=await U.post("/api/auth/login",{email:a,password:t});s({user:o.user,isAuthenticated:!0,isLoading:!1})}catch(o){const i=((l=(n=o.response)==null?void 0:n.data)==null?void 0:l.message)||o.message||"Login failed";throw s({isLoading:!1}),new Error(i)}},loginWithGoogle:async a=>{var t,n;s({isLoading:!0});try{if(a==="mock-google-credential"){s({user:{id:"1",name:"Google User",email:"googleuser@example.com",avatar:null},isAuthenticated:!0,isLoading:!1});return}const{data:l}=await U.post("/api/auth/google-login",{credential:a});s({user:l.user,isAuthenticated:!0,isLoading:!1})}catch(l){const o=((n=(t=l.response)==null?void 0:t.data)==null?void 0:n.message)||l.message||"Google login failed";throw s({isLoading:!1}),new Error(o)}},register:async(a,t,n)=>{var l,o;s({isLoading:!0});try{const{data:i}=await U.post("/api/auth/register",{name:a,email:t,password:n});s({user:i.user,isAuthenticated:!0,isLoading:!1})}catch(i){const x=((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.message)||i.message||"Registration failed";throw s({isLoading:!1}),new Error(x)}},logout:()=>{s({user:null,isAuthenticated:!1})},updateProfile:async a=>{var t,n;s({isLoading:!0});try{const{data:l}=await U.put("/api/auth/profile",a);s({user:l,isLoading:!1})}catch(l){const o=((n=(t=l.response)==null?void 0:t.data)==null?void 0:n.message)||l.message||"Failed to update profile";throw s({isLoading:!1}),new Error(o)}}}),{name:"auth-store",partialize:s=>({user:s.user,isAuthenticated:s.isAuthenticated})})),Ta=()=>{const[s,a]=r.useState(!1),[t,n]=r.useState(!1),[l,o]=r.useState({email:"",password:""}),[i,x]=r.useState({}),m=_(d=>d.login);_(d=>d.loginWithGoogle),_(d=>d.isAuthenticated);const N=G();St();const{toast:u}=z();r.useRef(!1);const v=!1,g=()=>{const d={},w=/^[^\s@]+@[^\s@]+\.(com|in|net|org)$/i;return l.email?w.test(l.email)||(d.email="Enter a valid email with a proper domain (e.g. example.com)"):d.email="Email is required",l.password?l.password.length<6&&(d.password="Password must be at least 6 characters"):d.password="Password is required",x(d),Object.keys(d).length===0},y=d=>{const{name:w,value:f}=d.target;o(L=>({...L,[w]:f})),x(L=>({...L,[w]:void 0}))},p=async d=>{if(d.preventDefault(),!!g()){a(!0);try{await m(l.email,l.password),u({title:"Login successful",description:"Welcome back to your portfolio dashboard"}),N("/dashboard")}catch{u({title:"Login failed",description:"Please check your credentials and try again",variant:"destructive"})}finally{a(!1)}}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4 py-12",children:e.jsxs(b,{className:"w-full max-w-md",children:[e.jsxs(K,{className:"space-y-1",children:[e.jsx(V,{className:"text-2xl font-bold text-center",children:"Login"}),e.jsx(J,{className:"text-center",children:"Enter your credentials to access your portfolio"})]}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-4",children:[v,e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Sign in with your email"}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"email",children:"Email"}),e.jsx(C,{id:"email",name:"email",type:"email",placeholder:"name@example.com",required:!0,value:l.email,onChange:y}),i.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{htmlFor:"password",children:"Password"}),e.jsx(R,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{id:"password",name:"password",type:t?"text":"password",placeholder:"••••••••",required:!0,value:l.password,onChange:y}),e.jsx(T,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>n(!t),children:t?e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(ts,{className:"h-4 w-4 text-muted-foreground"})})]}),i.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.password})]}),e.jsx(T,{type:"submit",className:"w-full",disabled:s,children:s?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-4 w-4 border-2 border-r-transparent border-white rounded-full animate-spin"}),e.jsx("span",{children:"Logging in..."})]}):e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ct,{className:"h-4 w-4"}),e.jsx("span",{children:"Login"})]})})]})]})}),e.jsx(Se,{className:"flex justify-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",e.jsx(R,{to:"/register",className:"text-primary font-medium hover:underline",children:"Sign up"})]})})]})})},Ia="58723178545-2jsien8ibcfqim7g10erp8emepqv21mc.apps.googleusercontent.com",ka=()=>{const[s,a]=r.useState(!1),[t,n]=r.useState(!1),[l,o]=r.useState({name:"",email:"",password:"",confirmPassword:""}),[i,x]=r.useState({}),m=_(f=>f.register),N=_(f=>f.loginWithGoogle),u=_(f=>f.isAuthenticated),v=G(),{toast:g}=z();r.useEffect(()=>{u&&v("/dashboard")},[u,v]);const y=()=>{const f={},L=/^[^\s@]+@[^\s@]+\.(com|in|net|org)$/i,$=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/;return l.name.trim()?l.name.trim().length<3&&(f.name="Name must be at least 3 characters"):f.name="Full name is required",l.email?L.test(l.email)||(f.email="Enter a valid email (e.g. name@example.com)"):f.email="Email is required",l.password?$.test(l.password)||(f.password="Password must be at least 6 characters with uppercase, lowercase, number, and special character"):f.password="Password is required",l.confirmPassword?l.password!==l.confirmPassword&&(f.confirmPassword="Passwords do not match"):f.confirmPassword="Please confirm your password",x(f),Object.keys(f).length===0},p=f=>{const{name:L,value:$}=f.target;o(W=>({...W,[L]:$})),x(W=>({...W,[L]:""}))},d=async f=>{if(f.preventDefault(),!!y()){a(!0);try{await m(l.name,l.email,l.password),g({title:"Registration successful",description:"Welcome to your portfolio dashboard"}),v("/dashboard")}catch{g({title:"Registration failed",description:"There was a problem creating your account",variant:"destructive"})}finally{a(!1)}}},w=async f=>{try{f.credential&&(await N(f.credential),g({title:"Google signup successful",description:"Welcome to your portfolio dashboard"}),v("/dashboard"))}catch{g({title:"Google signup failed",description:"There was a problem with your Google signup",variant:"destructive"})}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4 py-12",children:e.jsxs(b,{className:"w-full max-w-md",children:[e.jsxs(K,{className:"space-y-1",children:[e.jsx(V,{className:"text-2xl font-bold text-center",children:"Create an account"}),e.jsx(J,{className:"text-center",children:"Enter your details to create your portfolio account"})]}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"py-2",children:e.jsx(as,{clientId:Ia,children:e.jsx("div",{className:"flex justify-center",children:e.jsx(Pt,{onSuccess:w,onError:()=>{g({title:"Signup Error",description:"Google signup failed. Please try again.",variant:"destructive"})},useOneTap:!0,text:"signup_with",shape:"rectangular",locale:"en",theme:"outline",size:"large",width:"320"})})})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"name",children:"Full Name"}),e.jsx(C,{id:"name",name:"name",type:"text",placeholder:"John Doe",value:l.name,onChange:p}),i.name&&e.jsx("p",{className:"text-red-500 text-xs",children:i.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"email",children:"Email"}),e.jsx(C,{id:"email",name:"email",type:"email",placeholder:"name@example.com",value:l.email,onChange:p}),i.email&&e.jsx("p",{className:"text-red-500 text-xs",children:i.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{id:"password",name:"password",type:t?"text":"password",placeholder:"••••••••",value:l.password,onChange:p}),e.jsx(T,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>n(!t),children:t?e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(ts,{className:"h-4 w-4 text-muted-foreground"})})]}),i.password&&e.jsx("p",{className:"text-red-500 text-xs",children:i.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx(C,{id:"confirmPassword",name:"confirmPassword",type:t?"text":"password",placeholder:"••••••••",value:l.confirmPassword,onChange:p}),i.confirmPassword&&e.jsx("p",{className:"text-red-500 text-xs",children:i.confirmPassword})]}),e.jsx(T,{type:"submit",className:"w-full",disabled:s,children:s?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-4 w-4 border-2 border-r-transparent border-white rounded-full animate-spin"}),e.jsx("span",{children:"Creating account..."})]}):e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Tt,{className:"h-4 w-4"}),e.jsx("span",{children:"Register"})]})})]})]})}),e.jsx(Se,{className:"flex justify-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(R,{to:"/login",className:"text-primary font-medium hover:underline",children:"Sign in"})]})})]})})},Ce=r.forwardRef(({className:s,...a},t)=>e.jsx(rs,{ref:t,className:c("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a}));Ce.displayName=rs.displayName;const Pe=r.forwardRef(({className:s,...a},t)=>e.jsx(ns,{ref:t,className:c("aspect-square h-full w-full",s),...a}));Pe.displayName=ns.displayName;const Te=r.forwardRef(({className:s,...a},t)=>e.jsx(ls,{ref:t,className:c("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a}));Te.displayName=ls.displayName;const pe=768;function ce(){const[s,a]=r.useState(void 0);return r.useEffect(()=>{const t=window.matchMedia(`(max-width: ${pe-1}px)`),n=()=>{a(window.innerWidth<pe)};return t.addEventListener("change",n),a(window.innerWidth<pe),()=>t.removeEventListener("change",n)},[]),!!s}const Vs=Lt,_s=Rt,La=r.forwardRef(({className:s,inset:a,children:t,...n},l)=>e.jsxs(is,{ref:l,className:c("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",s),...n,children:[t,e.jsx(It,{className:"ml-auto"})]}));La.displayName=is.displayName;const Ra=r.forwardRef(({className:s,...a},t)=>e.jsx(os,{ref:t,className:c("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),...a}));Ra.displayName=os.displayName;const Ie=r.forwardRef(({className:s,sideOffset:a=4,...t},n)=>e.jsx(kt,{children:e.jsx(ds,{ref:n,sideOffset:a,className:c("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),...t})}));Ie.displayName=ds.displayName;const O=r.forwardRef(({className:s,inset:a,...t},n)=>e.jsx(cs,{ref:n,className:c("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",a&&"pl-8",s),...t}));O.displayName=cs.displayName;const Fa=r.forwardRef(({className:s,children:a,checked:t,...n},l)=>e.jsxs(ms,{ref:l,className:c("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:t,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(us,{children:e.jsx(xs,{className:"h-4 w-4"})})}),a]}));Fa.displayName=ms.displayName;const Aa=r.forwardRef(({className:s,children:a,...t},n)=>e.jsxs(hs,{ref:n,className:c("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(us,{children:e.jsx(ps,{className:"h-2 w-2 fill-current"})})}),a]}));Aa.displayName=hs.displayName;const Ys=r.forwardRef(({className:s,inset:a,...t},n)=>e.jsx(fs,{ref:n,className:c("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",s),...t}));Ys.displayName=fs.displayName;const ye=r.forwardRef(({className:s,...a},t)=>e.jsx(gs,{ref:t,className:c("-mx-1 my-1 h-px bg-muted",s),...a}));ye.displayName=gs.displayName;const Da=Ns,Ea=ys,Bs=r.forwardRef(({className:s,...a},t)=>e.jsx(le,{className:c("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t}));Bs.displayName=le.displayName;const qa=Z("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Gs=r.forwardRef(({side:s="right",className:a,children:t,...n},l)=>e.jsxs(Ea,{children:[e.jsx(Bs,{}),e.jsxs(ie,{ref:l,className:c(qa({side:s}),a),...n,children:[e.jsxs(js,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),t]})]}));Gs.displayName=ie.displayName;const Ma=r.forwardRef(({className:s,...a},t)=>e.jsx(oe,{ref:t,className:c("text-lg font-semibold text-foreground",s),...a}));Ma.displayName=oe.displayName;const Oa=r.forwardRef(({className:s,...a},t)=>e.jsx(de,{ref:t,className:c("text-sm text-muted-foreground",s),...a}));Oa.displayName=de.displayName;const za=[{icon:Et,label:"Dashboard",path:"/dashboard"},{icon:ws,label:"Positions",path:"/positions"},{icon:se,label:"Trades",path:"/trades"},{icon:Ze,label:"Charts",path:"/charts"},{icon:qt,label:"Analytics",path:"/analytics"}],X=({children:s})=>{const[a,t]=r.useState(new Date),[n,l]=r.useState(null),[o,i]=r.useState(!1),x=G(),{toast:m}=z(),N=ce();r.useEffect(()=>{const d=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(d)},[]),r.useEffect(()=>{{l({id:"test",name:"Test User",email:"test@example.com",avatar:null});return}},[x]);const u=()=>a.toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),v=()=>a.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),g=()=>{localStorage.removeItem("user"),m({title:"Logged out successfully",description:"You have been logged out of your account"}),x("/login")},y=d=>d.split(" ").map(w=>w[0]).join("").toUpperCase();if(!n)return null;const p=()=>e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"px-3 py-4 border-b",children:e.jsxs(R,{to:"/dashboard",className:"flex items-center gap-2",children:[e.jsx("div",{className:"bg-primary h-8 w-8 rounded flex items-center justify-center",children:e.jsx(ws,{className:"h-4 w-4 text-white"})}),e.jsx("h1",{className:"text-xl font-bold",children:"Portfolio"})]})}),e.jsx("div",{className:"flex-1 overflow-auto py-2",children:e.jsx("nav",{className:"grid gap-1 px-2",children:za.map(d=>e.jsxs(R,{to:d.path,className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors hover:bg-accent ${window.location.pathname===d.path?"bg-accent font-medium":"text-muted-foreground"}`,onClick:()=>N&&i(!1),children:[e.jsx(d.icon,{className:"h-4 w-4"}),d.label]},d.path))})}),e.jsx("div",{className:"mt-auto border-t px-3 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsx("span",{children:v()})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:u()})]})})]});return e.jsxs("div",{className:"flex h-screen bg-background",children:[!N&&e.jsx("aside",{className:"w-64 border-r bg-card",children:e.jsx(p,{})}),N&&e.jsx(Da,{open:o,onOpenChange:i,children:e.jsx(Gs,{side:"left",className:"w-[240px] p-0",children:e.jsx(p,{})})}),e.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[e.jsxs("header",{className:"h-14 border-b bg-card flex items-center gap-4 px-4",children:[N&&e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>i(!0),children:e.jsx(Ft,{className:"h-5 w-5"})}),e.jsx("div",{className:"ml-auto flex items-center gap-4",children:e.jsxs(Vs,{children:[e.jsx(_s,{asChild:!0,children:e.jsx(T,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(Ce,{className:"h-8 w-8",children:[e.jsx(Pe,{src:n.avatar||"",alt:n.name}),e.jsx(Te,{children:y(n.name)})]})})}),e.jsxs(Ie,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx(Ys,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:n.name}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:n.email})]})}),e.jsx(ye,{}),e.jsx(O,{asChild:!0,children:e.jsxs(R,{to:"/profile",className:"cursor-pointer flex items-center gap-2",children:[e.jsx(vs,{className:"h-4 w-4"}),"Profile"]})}),e.jsx(O,{asChild:!0,children:e.jsxs(R,{to:"/settings",className:"cursor-pointer flex items-center gap-2",children:[e.jsx(At,{className:"h-4 w-4"}),"Settings"]})}),e.jsx(ye,{}),e.jsxs(O,{className:"cursor-pointer text-red-500 focus:text-red-500 flex items-center gap-2",onClick:g,children:[e.jsx(Dt,{className:"h-4 w-4"}),"Log out"]})]})]})})]}),e.jsx("main",{className:"flex-1 overflow-auto",children:s})]})]})},ke=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:t,className:c("w-full caption-bottom text-sm",s),...a})}));ke.displayName="Table";const Le=r.forwardRef(({className:s,...a},t)=>e.jsx("thead",{ref:t,className:c("[&_tr]:border-b",s),...a}));Le.displayName="TableHeader";const Re=r.forwardRef(({className:s,...a},t)=>e.jsx("tbody",{ref:t,className:c("[&_tr:last-child]:border-0",s),...a}));Re.displayName="TableBody";const $a=r.forwardRef(({className:s,...a},t)=>e.jsx("tfoot",{ref:t,className:c("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a}));$a.displayName="TableFooter";const Y=r.forwardRef(({className:s,...a},t)=>e.jsx("tr",{ref:t,className:c("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a}));Y.displayName="TableRow";const I=r.forwardRef(({className:s,...a},t)=>e.jsx("th",{ref:t,className:c("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a}));I.displayName="TableHead";const P=r.forwardRef(({className:s,...a},t)=>e.jsx("td",{ref:t,className:c("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a}));P.displayName="TableCell";const Ua=r.forwardRef(({className:s,...a},t)=>e.jsx("caption",{ref:t,className:c("mt-4 text-sm text-muted-foreground",s),...a}));Ua.displayName="TableCaption";const Ka=({indices:s})=>e.jsx("div",{className:"w-full bg-black text-white overflow-hidden whitespace-nowrap py-2",children:e.jsx("div",{className:"animate-marquee flex items-center space-x-12 px-4",children:s.map((a,t)=>e.jsxs("div",{className:"flex items-center space-x-3 min-w-max font-medium",children:[e.jsx("span",{className:"text-yellow-400",children:a.symbol}),e.jsxs("span",{children:["₹",a.price.toFixed(2)]}),e.jsxs("span",{className:a.change>=0?"text-green-400":"text-red-400",children:[a.change>=0?"▲":"▼"," ",Math.abs(a.change).toFixed(2),"%"]})]},t))})});function j(s,a){const t={style:"currency",currency:"INR",maximumFractionDigits:2,...a};return new Intl.NumberFormat("en-IN",t).format(s)}const Va=Ns,_a=ys,Ws=r.forwardRef(({className:s,...a},t)=>e.jsx(le,{ref:t,className:c("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a}));Ws.displayName=le.displayName;const Qs=r.forwardRef(({className:s,children:a,...t},n)=>e.jsxs(_a,{children:[e.jsx(Ws,{}),e.jsxs(ie,{ref:n,className:c("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t,children:[a,e.jsxs(js,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qs.displayName=ie.displayName;const Hs=({className:s,...a})=>e.jsx("div",{className:c("flex flex-col space-y-1.5 text-center sm:text-left",s),...a});Hs.displayName="DialogHeader";const Js=({className:s,...a})=>e.jsx("div",{className:c("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a});Js.displayName="DialogFooter";const Xs=r.forwardRef(({className:s,...a},t)=>e.jsx(oe,{ref:t,className:c("text-lg font-semibold leading-none tracking-tight",s),...a}));Xs.displayName=oe.displayName;const Zs=r.forwardRef(({className:s,...a},t)=>e.jsx(de,{ref:t,className:c("text-sm text-muted-foreground",s),...a}));Zs.displayName=de.displayName;const et=r.forwardRef(({className:s,...a},t)=>e.jsx(k,{ref:t,className:c("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...a}));et.displayName=k.displayName;const st=r.forwardRef(({className:s,...a},t)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(be,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(k.Input,{ref:t,className:c("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...a})]}));st.displayName=k.Input.displayName;const tt=r.forwardRef(({className:s,...a},t)=>e.jsx(k.List,{ref:t,className:c("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...a}));tt.displayName=k.List.displayName;const at=r.forwardRef((s,a)=>e.jsx(k.Empty,{ref:a,className:"py-6 text-center text-sm",...s}));at.displayName=k.Empty.displayName;const rt=r.forwardRef(({className:s,...a},t)=>e.jsx(k.Group,{ref:t,className:c("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...a}));rt.displayName=k.Group.displayName;const Ya=r.forwardRef(({className:s,...a},t)=>e.jsx(k.Separator,{ref:t,className:c("-mx-1 h-px bg-border",s),...a}));Ya.displayName=k.Separator.displayName;const nt=r.forwardRef(({className:s,...a},t)=>e.jsx(k.Item,{ref:t,className:c("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s),...a}));nt.displayName=k.Item.displayName;const Ue=[{symbol:"RELIANCE",name:"Reliance Industries Ltd",type:"equity"},{symbol:"TCS",name:"Tata Consultancy Services Ltd",type:"equity"},{symbol:"HDFCBANK",name:"HDFC Bank Ltd",type:"equity"},{symbol:"INFY",name:"Infosys Ltd",type:"equity"},{symbol:"ICICIBANK",name:"ICICI Bank Ltd",type:"equity"},{symbol:"KOTAKBANK",name:"Kotak Mahindra Bank Ltd",type:"equity"},{symbol:"HINDUNILVR",name:"Hindustan Unilever Ltd",type:"equity"},{symbol:"SBIN",name:"State Bank of India",type:"equity"},{symbol:"BHARTIARTL",name:"Bharti Airtel Ltd",type:"equity"},{symbol:"ITC",name:"ITC Ltd",type:"equity"}],Ke=[{symbol:"NIFTY",name:"NIFTY Index",type:"index"},{symbol:"BANKNIFTY",name:"BANK NIFTY Index",type:"index"},{symbol:"RELIANCE",name:"Reliance Industries Ltd",type:"fno"},{symbol:"TCS",name:"Tata Consultancy Services Ltd",type:"fno"},{symbol:"HDFCBANK",name:"HDFC Bank Ltd",type:"fno"},{symbol:"INFY",name:"Infosys Ltd",type:"fno"},{symbol:"ICICIBANK",name:"ICICI Bank Ltd",type:"fno"}];function lt({onSelect:s,segment:a="all",placeholder:t="Search securities...",className:n=""}){const[l,o]=r.useState(!1),[i,x]=r.useState(""),[m,N]=r.useState([]),[u,v]=r.useState(!1),g=r.useRef(null),y=()=>{switch(a){case"equity":return Ue;case"fno":return Ke;case"all":default:return[...Ue,...Ke]}};r.useEffect(()=>{if(i.length>=2){v(!0);const d=setTimeout(()=>{const w=y().filter(f=>f.symbol.toLowerCase().includes(i.toLowerCase())||f.name.toLowerCase().includes(i.toLowerCase()));N(w),v(!1)},300);return()=>clearTimeout(d)}else N([])},[i,a]);const p=d=>{var w;s(d),o(!1),x(""),(w=g.current)==null||w.blur()};return e.jsxs("div",{className:`relative ${n}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx(be,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(C,{ref:g,type:"text",placeholder:t,value:i,onChange:d=>x(d.target.value),onFocus:()=>o(!0),className:"pl-8"})]}),l&&(i.length>=2||m.length>0)&&e.jsx("div",{className:"absolute z-50 w-full mt-1",children:e.jsxs(et,{className:"rounded-lg border shadow-md",children:[e.jsx(st,{placeholder:"Search securities...",value:i,onValueChange:x}),e.jsx(tt,{children:u?e.jsxs("div",{className:"py-6 text-center",children:[e.jsx(bs,{className:"h-6 w-6 animate-spin mx-auto text-primary"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Searching securities..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(at,{children:"No results found"}),m.length>0&&e.jsx(rt,{heading:"Securities",children:m.map(d=>e.jsxs(nt,{value:`${d.symbol}-${d.name}`,onSelect:()=>p(d),children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:d.symbol}),e.jsx("span",{className:"text-xs text-muted-foreground",children:d.name})]}),e.jsx("span",{className:"ml-auto text-xs bg-secondary px-2 py-0.5 rounded-full",children:d.type==="equity"?"EQ":d.type==="fno"?"F&O":"IDX"})]},`${d.symbol}-${d.type}`))})]})})]})})]})}const Ba=(s,a,t="Positions Report",n=!0,l={})=>{const o=new Ss;o.setFontSize(18),o.text(t,14,22);const i=new Date;let x=new Date;switch(a){case"weekly":x.setDate(i.getDate()-7);break;case"monthly":x.setMonth(i.getMonth()-1);break;case"yearly":x.setFullYear(i.getFullYear()-1);break;case"daily":default:x=i}o.setFontSize(12),o.text(`Period: ${x.toLocaleDateString("en-IN")} to ${i.toLocaleDateString("en-IN")}`,14,32),o.setFontSize(10),o.setTextColor(100),o.text(`Generated on: ${i.toLocaleString("en-IN")}`,14,38);const m=s.some(p=>p.segment==="equity"),N=s.some(p=>p.segment==="fno");let u;m&&N?u=[{header:"Symbol",dataKey:"symbol"},{header:"Segment",dataKey:"segment"},{header:"Type",dataKey:"type"},{header:"Strike/Price",dataKey:"strike"},{header:"Qty",dataKey:"qty"},{header:"Entry",dataKey:"entryPrice"},{header:"LTP",dataKey:"ltp"}]:N?u=[{header:"Symbol",dataKey:"symbol"},{header:"Type",dataKey:"type"},{header:"Strike",dataKey:"strike"},{header:"Qty",dataKey:"qty"},{header:"Entry",dataKey:"entryPrice"},{header:"LTP",dataKey:"ltp"}]:u=[{header:"Symbol",dataKey:"symbol"},{header:"Qty",dataKey:"qty"},{header:"Avg. Price",dataKey:"entryPrice"},{header:"LTP",dataKey:"ltp"}],n&&(u=[...u,{header:"P&L",dataKey:"pnl"},{header:"MTM",dataKey:"mtm"}]),u.push({header:"Status",dataKey:"status"});const v=s.map(p=>{const d={...p};return d.entryPrice=j(p.entryPrice),d.ltp=j(p.ltp),n&&(d.pnl=j(p.pnl),d.mtm=j(p.mtm)),d.segment=p.segment==="equity"?"Equity":"F&O",d.status=p.status==="active"?"Active":"Closed",d}),g=n?s.reduce((p,d)=>p+d.pnl,0):0,y=n?s.reduce((p,d)=>p+d.mtm,0):0;if(o.autoTable({startY:45,head:[u.map(p=>p.header)],body:v.map(p=>u.map(d=>p[d.dataKey])),foot:n?[["Total","","","","","",j(g),j(y),""]]:void 0,theme:"grid",headStyles:{fillColor:[79,134,247],textColor:[255,255,255],fontStyle:"bold"},footStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[249,250,251]}}),Object.keys(l).length>0){const p=o.lastAutoTable.finalY||45;o.setFontSize(14),o.setTextColor(0),o.text("Summary",14,p+15);let d=p+25;o.setFontSize(10),Object.entries(l).forEach(([w,f])=>{o.text(`${w}: ${f}`,14,d),d+=7})}return o.output("blob")},Ga=(s,a="Portfolio Summary")=>{const t=new Ss;t.setFontSize(18),t.text(a,14,22);const n=new Date;t.setFontSize(10),t.setTextColor(100),t.text(`Generated on: ${n.toLocaleString("en-IN")}`,14,28),t.setFontSize(14),t.setTextColor(0),t.text("Portfolio Overview",14,40),t.setFontSize(10),t.text(`Networth: ${j(s.networth)}`,14,50),t.text(`Today's MTM: ${j(s.todayMTM)}`,14,57),t.text(`Margin Available: ${j(s.marginAvailable)}`,14,64),s.equityValue!==void 0&&t.text(`Equity Portfolio Value: ${j(s.equityValue)}`,14,71),s.fnoValue!==void 0&&t.text(`F&O Margin Used: ${j(s.fnoValue)}`,14,78);const l=s.positions.filter(x=>x.segment==="equity"),o=s.positions.filter(x=>x.segment==="fno");if(l.length>0&&(t.setFontSize(14),t.text("Equity Positions",14,90),t.autoTable({startY:95,head:[["Symbol","Qty","Avg. Price","LTP","P&L","Status"]],body:l.map(x=>[x.symbol,x.qty.toString(),j(x.entryPrice),j(x.ltp),j(x.pnl),x.status==="active"?"Active":"Closed"]),theme:"grid",headStyles:{fillColor:[79,134,247],textColor:[255,255,255],fontStyle:"bold"}})),o.length>0){const x=l.length>0?t.lastAutoTable.finalY+15:90;t.setFontSize(14),t.text("F&O Positions",14,x),t.autoTable({startY:x+5,head:[["Symbol","Type","Strike","Qty","Entry","LTP","P&L","Status"]],body:o.map(m=>[m.symbol,m.type,m.strike,m.qty.toString(),j(m.entryPrice),j(m.ltp),j(m.pnl),m.status==="active"?"Active":"Closed"]),theme:"grid",headStyles:{fillColor:[79,134,247],textColor:[255,255,255],fontStyle:"bold"}})}const i=t.lastAutoTable.finalY||90;return t.setFontSize(8),t.setTextColor(100),t.text("Disclaimer: This report is for informational purposes only. Not financial advice.",14,i+15),t.output("blob")},Ve=(s,a)=>{const t=URL.createObjectURL(s),n=document.createElement("a");n.href=t,n.download=a,n.click(),setTimeout(()=>{URL.revokeObjectURL(t)},100)};function it({positions:s,portfolioData:a,buttonVariant:t="outline",buttonSize:n="sm",label:l="Download Report",className:o=""}){const[i,x]=r.useState(!1),{toast:m}=z(),N=async u=>{x(!0);try{if(await new Promise(v=>setTimeout(v,1e3)),a){const v=Ga(a,`Portfolio Summary - ${u.charAt(0).toUpperCase()+u.slice(1)}`);Ve(v,`portfolio_summary_${u}_${new Date().toISOString().split("T")[0]}.pdf`)}else{const v=Ba(s,u,`${u.charAt(0).toUpperCase()+u.slice(1)} Positions Report`,!0,{"Total Positions":s.length,"Active Positions":s.filter(g=>g.status==="active").length,"Total P&L":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(s.reduce((g,y)=>g+y.pnl,0))});Ve(v,`positions_${u}_${new Date().toISOString().split("T")[0]}.pdf`)}m({title:"Report Downloaded",description:`Your ${u} report has been generated successfully.`})}catch(v){console.error("Error generating report:",v),m({title:"Failed to Generate Report",description:"There was an issue creating your report. Please try again.",variant:"destructive"})}finally{x(!1)}};return e.jsxs(Vs,{children:[e.jsx(_s,{asChild:!0,children:e.jsx(T,{variant:t,size:n,className:o,disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(bs,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"}),l]})})}),e.jsxs(Ie,{children:[e.jsx(O,{onClick:()=>N("daily"),children:"Daily Report"}),e.jsx(O,{onClick:()=>N("weekly"),children:"Weekly Report"}),e.jsx(O,{onClick:()=>N("monthly"),children:"Monthly Report"}),e.jsx(O,{onClick:()=>N("yearly"),children:"Yearly Report"})]})]})}const Fe=Ot,me=r.forwardRef(({className:s,...a},t)=>e.jsx(Cs,{ref:t,className:c("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...a}));me.displayName=Cs.displayName;const M=r.forwardRef(({className:s,...a},t)=>e.jsx(Ps,{ref:t,className:c("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s),...a}));M.displayName=Ps.displayName;const B=r.forwardRef(({className:s,...a},t)=>e.jsx(Ts,{ref:t,className:c("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a}));B.displayName=Ts.displayName;const je=Yt,Ne=Bt,re=r.forwardRef(({className:s,children:a,...t},n)=>e.jsxs(Is,{ref:n,className:c("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[a,e.jsx(zt,{asChild:!0,children:e.jsx(ks,{className:"h-4 w-4 opacity-50"})})]}));re.displayName=Is.displayName;const ot=r.forwardRef(({className:s,...a},t)=>e.jsx(Ls,{ref:t,className:c("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx($t,{className:"h-4 w-4"})}));ot.displayName=Ls.displayName;const dt=r.forwardRef(({className:s,...a},t)=>e.jsx(Rs,{ref:t,className:c("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx(ks,{className:"h-4 w-4"})}));dt.displayName=Rs.displayName;const ne=r.forwardRef(({className:s,children:a,position:t="popper",...n},l)=>e.jsx(Ut,{children:e.jsxs(Fs,{ref:l,className:c("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...n,children:[e.jsx(ot,{}),e.jsx(Kt,{className:c("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(dt,{})]})}));ne.displayName=Fs.displayName;const Wa=r.forwardRef(({className:s,...a},t)=>e.jsx(As,{ref:t,className:c("px-2 py-1.5 text-sm font-semibold",s),...a}));Wa.displayName=As.displayName;const A=r.forwardRef(({className:s,children:a,...t},n)=>e.jsxs(Ds,{ref:n,className:c("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Vt,{children:e.jsx(xs,{className:"h-4 w-4"})})}),e.jsx(_t,{children:a})]}));A.displayName=Ds.displayName;const Qa=r.forwardRef(({className:s,...a},t)=>e.jsx(Es,{ref:t,className:c("-mx-1 my-1 h-px bg-muted",s),...a}));Qa.displayName=Es.displayName;const F={networth:1205e4,todayMTM:125e3,marginAvailable:257e4,equityValue:824e4,fnoValue:381e4,positions:[{id:"pos1",symbol:"NIFTY",strike:"18000 CE",type:"CALL",segment:"fno",qty:75,entryPrice:12050,ltp:13725,pnl:125625,mtm:125625,status:"active"},{id:"pos2",symbol:"BANKNIFTY",strike:"44000 PUT",type:"PUT",segment:"fno",qty:75,entryPrice:13750,ltp:13725,pnl:405e3,mtm:15255,status:"active"},{id:"pos3",symbol:"RELIANCE",strike:"2400",type:"EQ",segment:"equity",qty:50,entryPrice:2385.5,ltp:2450.75,pnl:326250,mtm:13660,status:"active"},{id:"pos4",symbol:"TATAMOTOR",strike:"675",type:"EQ",segment:"equity",qty:100,entryPrice:635.55,ltp:622.15,pnl:-133e3,mtm:62215,status:"closed"},{id:"pos5",symbol:"INFY",strike:"1480",type:"EQ",segment:"equity",qty:75,entryPrice:1500.05,ltp:1474.45,pnl:-191250,mtm:110584,status:"active"}]},ee={daily:[{date:"Jun 10",value:85e3},{date:"Jun 11",value:94e3},{date:"Jun 12",value:112e3},{date:"Jun 13",value:125e3},{date:"Jun 14",value:138e3},{date:"Jun 15",value:164e3},{date:"Jun 16",value:178e3}],weekly:[{date:"May W1",value:35e4},{date:"May W2",value:42e4},{date:"May W3",value:38e4},{date:"May W4",value:51e4},{date:"Jun W1",value:57e4},{date:"Jun W2",value:64e4}],monthly:[{date:"Jan",value:125e4},{date:"Feb",value:145e4},{date:"Mar",value:182e4},{date:"Apr",value:215e4},{date:"May",value:236e4},{date:"Jun",value:278e4}],yearly:[{date:"2020",value:325e4},{date:"2021",value:515e4},{date:"2022",value:835e4},{date:"2023",value:1045e4},{date:"2024",value:1205e4}]},D=[{name:"Used",value:743e4},{name:"Available",value:257e4}],_e=["#4F86F7","#F0F0F0"],Ha=({active:s,payload:a,label:t})=>s&&a&&a.length?e.jsxs("div",{className:"bg-white p-3 border rounded shadow-lg",children:[e.jsx("p",{className:"font-medium",children:t}),e.jsx("p",{className:"text-primary",children:`P&L: ${j(a[0].value)}`})]}):null,Ae=()=>{const[s,a]=r.useState(new Date),[t,n]=r.useState("daily");ce();const[l,o]=r.useState("all");r.useEffect(()=>{const m=setInterval(()=>{a(new Date)},1e3);return()=>clearInterval(m)},[]);const i=m=>{console.log("Selected security:",m)},x=()=>{switch(t){case"weekly":return ee.weekly;case"monthly":return ee.monthly;case"yearly":return ee.yearly;case"daily":default:return ee.daily}};return e.jsxs(X,{children:[e.jsx(Ka,{indices:[{symbol:"NIFTY 50",price:22986.3,change:.45},{symbol:"BANKNIFTY",price:49123.55,change:-.12},{symbol:"RELIANCE",price:2925.4,change:1.01},{symbol:"TCS",price:3999.85,change:.35},{symbol:"INFY",price:1565.25,change:-.22},{symbol:"LT",price:3675.4,change:.65},{symbol:"ICICI BANK",price:1123.75,change:.78}]}),e.jsx("div",{className:"container mx-auto py-6 px-4 md:px-6 max-w-7xl",children:e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),e.jsx("div",{className:"w-full md:w-64",children:e.jsx(lt,{onSelect:i,placeholder:"Search for securities..."})})]}),e.jsxs(Fe,{defaultValue:"all",children:[e.jsxs(me,{className:"grid grid-cols-3 w-full md:w-80",children:[e.jsx(M,{value:"all",onClick:()=>o("all"),children:"All"}),e.jsx(M,{value:"equity",onClick:()=>o("equity"),children:"Equity"}),e.jsx(M,{value:"fno",onClick:()=>o("fno"),children:"F&O"})]}),e.jsx(B,{value:"all",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsx(b,{className:"stat-card",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Current Networth"}),e.jsx("div",{className:"mt-2 flex items-center",children:e.jsx("div",{className:"text-2xl font-bold",children:j(F.networth)})})]})}),e.jsx(b,{className:"stat-card",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Today's MTM"}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsxs("div",{className:`text-2xl font-bold ${F.todayMTM>=0?"text-green-600":"text-red-600"}`,children:[F.todayMTM>=0?"+":"",j(F.todayMTM)]}),F.todayMTM>=0?e.jsx(fe,{className:"ml-2 h-5 w-5 text-green-500"}):e.jsx(qe,{className:"ml-2 h-5 w-5 text-red-500"})]})]})}),e.jsx(b,{className:"stat-card",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Margin Available"}),e.jsx("div",{className:"mt-2 flex items-center",children:e.jsx("div",{className:"text-2xl font-bold",children:j(F.marginAvailable)})})]})})]})}),e.jsx(B,{value:"equity",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsx(b,{className:"stat-card",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Equity Portfolio Value"}),e.jsx("div",{className:"mt-2 flex items-center",children:e.jsx("div",{className:"text-2xl font-bold",children:j(F.equityValue||0)})})]})}),e.jsx(b,{className:"stat-card",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Today's Equity P&L"}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["+",j(75e3)]}),e.jsx(fe,{className:"ml-2 h-5 w-5 text-green-500"})]})]})}),e.jsx(b,{className:"stat-card",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Total Equity Holdings"}),e.jsx("div",{className:"mt-2 flex items-center",children:e.jsx("div",{className:"text-2xl font-bold",children:"12"})})]})})]})}),e.jsx(B,{value:"fno",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsx(b,{className:"stat-card",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"F&O Margin Used"}),e.jsx("div",{className:"mt-2 flex items-center",children:e.jsx("div",{className:"text-2xl font-bold",children:j(F.fnoValue||0)})})]})}),e.jsx(b,{className:"stat-card",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Today's F&O P&L"}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["-",j(5e4)]}),e.jsx(qe,{className:"ml-2 h-5 w-5 text-red-500"})]})]})}),e.jsx(b,{className:"stat-card",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Active F&O Positions"}),e.jsx("div",{className:"mt-2 flex items-center",children:e.jsx("div",{className:"text-2xl font-bold",children:"8"})})]})})]})})]}),e.jsxs(b,{className:"portfolio-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-4 pt-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Open Positions"}),e.jsx(it,{positions:F.positions.filter(m=>m.status==="active"),portfolioData:F,label:"Portfolio Report"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ke,{children:[e.jsx(Le,{children:e.jsxs(Y,{children:[e.jsx(I,{children:"Symbol"}),e.jsx(I,{children:"Strike"}),e.jsx(I,{children:"Type"}),e.jsx(I,{children:"Qty"}),e.jsx(I,{children:"Entry Price"}),e.jsx(I,{children:"LTP"}),e.jsx(I,{children:"P&L"}),e.jsx(I,{children:"MTM"})]})}),e.jsx(Re,{children:F.positions.map((m,N)=>e.jsxs(Y,{className:"position-row",children:[e.jsx(P,{className:"font-medium",children:m.symbol}),e.jsx(P,{children:m.strike}),e.jsx(P,{children:m.type}),e.jsx(P,{children:m.qty}),e.jsx(P,{children:j(m.entryPrice)}),e.jsx(P,{children:j(m.ltp)}),e.jsxs(P,{className:m.pnl>=0?"text-green-600":"text-red-600",children:[m.pnl>=0?"+":"",j(m.pnl)]}),e.jsx(P,{children:j(m.mtm)})]},m.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{className:"portfolio-card",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-4 px-4 pt-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"P&L Chart"}),e.jsxs(je,{value:t,onValueChange:n,children:[e.jsx(re,{className:"w-[180px] mt-2 md:mt-0",children:e.jsx(Ne,{placeholder:"Select period"})}),e.jsxs(ne,{children:[e.jsx(A,{value:"daily",children:"Daily"}),e.jsx(A,{value:"weekly",children:"Weekly"}),e.jsx(A,{value:"monthly",children:"Monthly"}),e.jsx(A,{value:"yearly",children:"Yearly"})]})]})]}),e.jsx("div",{className:"h-[300px]",children:e.jsx(Me,{width:"100%",height:"100%",children:e.jsxs(Gt,{data:x(),margin:{top:5,right:20,left:20,bottom:25},children:[e.jsx(Wt,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),e.jsx(Qt,{dataKey:"date",axisLine:!1,tickLine:!1,tickMargin:10}),e.jsx(Ht,{axisLine:!1,tickLine:!1,tickMargin:10,tickFormatter:m=>`₹${m/1e5}L`}),e.jsx(Oe,{content:e.jsx(Ha,{})}),e.jsx(Jt,{type:"monotone",dataKey:"value",stroke:"#4F86F7",strokeWidth:2,dot:{r:4,strokeWidth:2},activeDot:{r:6,strokeWidth:2}})]})})})]}),e.jsxs(b,{className:"portfolio-card",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 px-4 pt-4",children:"Margin Utilization"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between h-[300px]",children:[e.jsx("div",{className:"w-full md:w-1/2 h-[200px] md:h-full",children:e.jsx(Me,{width:"100%",height:"100%",children:e.jsxs(Xt,{children:[e.jsx(Zt,{data:D,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",startAngle:90,endAngle:450,children:D.map((m,N)=>e.jsx(ea,{fill:_e[N%_e.length]},`cell-${N}`))}),e.jsx(Oe,{formatter:m=>j(m)})]})})}),e.jsxs("div",{className:"flex flex-col space-y-4 p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-[#4F86F7] mr-2"}),e.jsxs("span",{className:"text-sm",children:["Used: ",j(D[0].value)]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-[#F0F0F0] mr-2"}),e.jsxs("span",{className:"text-sm",children:["Available: ",j(D[1].value)]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Utilization"}),e.jsxs("span",{className:"font-medium",children:[Math.round(D[0].value/(D[0].value+D[1].value)*100),"%"]})]}),e.jsx("div",{className:"mt-1 h-2 w-full bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${D[0].value/(D[0].value+D[1].value)*100}%`}})})]})]})]})]})]}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsxs("div",{className:"text-center text-muted-foreground text-sm",children:["Last updated: ",s.toLocaleString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})]})})]})})]})},ct=r.forwardRef(({className:s,...a},t)=>e.jsx(qs,{className:c("grid gap-2",s),...a,ref:t}));ct.displayName=qs.displayName;const ve=r.forwardRef(({className:s,...a},t)=>e.jsx(Ms,{ref:t,className:c("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:e.jsx(sa,{className:"flex items-center justify-center",children:e.jsx(ps,{className:"h-3.5 w-3.5 fill-primary"})})}));ve.displayName=Ms.displayName;const Ja=[{id:"pos1",symbol:"NIFTY",strike:"18000 CE",type:"CALL",segment:"fno",qty:75,entryPrice:12050,ltp:13725,pnl:125625,mtm:125625,status:"active"},{id:"pos2",symbol:"BANKNIFTY",strike:"44000 PUT",type:"PUT",segment:"fno",qty:75,entryPrice:13750,ltp:13725,pnl:405e3,mtm:15255,status:"active"},{id:"pos3",symbol:"RELIANCE",strike:"2400",type:"EQ",segment:"equity",qty:50,entryPrice:2385.5,ltp:2450.75,pnl:326250,mtm:13660,status:"active"},{id:"pos4",symbol:"TATAMOTOR",strike:"675",type:"EQ",segment:"equity",qty:100,entryPrice:635.55,ltp:622.15,pnl:-133e3,mtm:62215,status:"closed"},{id:"pos5",symbol:"INFY",strike:"1480",type:"EQ",segment:"equity",qty:75,entryPrice:1500.05,ltp:1474.45,pnl:-191250,mtm:110584,status:"active"}],Xa=()=>{const[s,a]=r.useState(Ja),[t,n]=r.useState(""),[l,o]=r.useState("all"),[i,x]=r.useState("all"),[m,N]=r.useState(!1),[u,v]=r.useState({symbol:"",name:"",type:"",segment:"equity",strike:"",qty:"",entryPrice:""}),[g,y]=r.useState("equity"),[p,d]=r.useState(!1);ce();const{toast:w}=z(),f=s.filter(h=>{const E=h.symbol.toLowerCase().includes(t.toLowerCase())||h.strike.toLowerCase().includes(t.toLowerCase())||h.type.toLowerCase().includes(t.toLowerCase()),ue=l==="all"||h.status===l,xt=i==="all"||h.segment===i;return E&&ue&&xt}),L=h=>{v({...u,symbol:h.symbol,name:h.name,segment:h.type==="equity"?"equity":"fno"}),y(h.type==="equity"?"equity":"fno")},$=h=>{const{name:E,value:ue}=h.target;v({...u,[E]:ue})},W=h=>{y(h),v({...u,segment:h,strike:h==="fno"?"":u.strike,type:h==="fno"?"":"EQ"})},ut=async()=>{if(!u.symbol||!u.qty||!u.entryPrice){w({title:"Missing information",description:"Please fill all required fields",variant:"destructive"});return}d(!0);try{await new Promise(E=>setTimeout(E,1e3));const h={id:`pos${s.length+1}`,symbol:u.symbol,strike:g==="equity"?u.entryPrice:u.strike,type:g==="equity"?"EQ":u.type||"CALL",segment:g,qty:parseInt(u.qty),entryPrice:parseFloat(u.entryPrice),ltp:parseFloat(u.entryPrice),pnl:0,mtm:parseFloat(u.entryPrice)*parseInt(u.qty),status:"active"};a([h,...s]),N(!1),v({symbol:"",name:"",type:"",segment:"equity",strike:"",qty:"",entryPrice:""}),w({title:"Position added",description:`${h.symbol} ${h.type} position has been added successfully`})}catch{w({title:"Failed to add position",description:"An error occurred while adding the position",variant:"destructive"})}finally{d(!1)}};return e.jsx(X,{children:e.jsx("div",{className:"container mx-auto py-6 px-4 md:px-6 max-w-7xl",children:e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Positions"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-center",children:[e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx(be,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(C,{type:"search",placeholder:"Search positions...",className:"pl-8 w-full",value:t,onChange:h=>n(h.target.value)})]}),e.jsxs(je,{value:l,onValueChange:o,children:[e.jsx(re,{className:"w-full md:w-[180px]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ta,{className:"h-4 w-4"}),e.jsx(Ne,{placeholder:"Filter by status"})]})}),e.jsxs(ne,{children:[e.jsx(A,{value:"all",children:"All Positions"}),e.jsx(A,{value:"active",children:"Active Only"}),e.jsx(A,{value:"closed",children:"Closed Only"})]})]}),e.jsxs(T,{className:"w-full md:w-auto",onClick:()=>N(!0),children:[e.jsx(aa,{className:"h-4 w-4 mr-2"}),"New Position"]})]})]}),e.jsx(Fe,{defaultValue:"all",onValueChange:x,children:e.jsxs(me,{className:"grid w-full grid-cols-3 mb-4",children:[e.jsx(M,{value:"all",children:"All"}),e.jsx(M,{value:"equity",children:"Equity"}),e.jsx(M,{value:"fno",children:"F&O"})]})}),e.jsxs(b,{className:"portfolio-card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 px-4 pt-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:i==="all"?"All Positions":i==="equity"?"Equity Positions":"F&O Positions"}),e.jsx(it,{positions:f})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ke,{children:[e.jsx(Le,{children:e.jsxs(Y,{children:[e.jsx(I,{children:"Symbol"}),e.jsx(I,{children:"Strike/Price"}),e.jsx(I,{children:"Type"}),e.jsx(I,{children:"Segment"}),e.jsx(I,{children:"Qty"}),e.jsx(I,{children:"Entry Price"}),e.jsx(I,{children:"LTP"}),e.jsx(I,{children:"P&L"}),e.jsx(I,{children:"MTM"}),e.jsx(I,{children:"Status"})]})}),e.jsx(Re,{children:f.length>0?f.map(h=>e.jsxs(Y,{className:"position-row",children:[e.jsx(P,{className:"font-medium",children:h.symbol}),e.jsx(P,{children:h.strike}),e.jsx(P,{children:h.type}),e.jsx(P,{children:e.jsx(ge,{variant:h.segment==="equity"?"outline":"secondary",children:h.segment==="equity"?"Equity":"F&O"})}),e.jsx(P,{children:h.qty}),e.jsx(P,{children:j(h.entryPrice)}),e.jsx(P,{children:j(h.ltp)}),e.jsxs(P,{className:h.pnl>=0?"text-green-600":"text-red-600",children:[h.pnl>=0?"+":"",j(h.pnl)]}),e.jsx(P,{children:j(h.mtm)}),e.jsx(P,{children:e.jsx(ge,{variant:h.status==="active"?"default":"secondary",children:h.status==="active"?"Active":"Closed"})})]},h.id)):e.jsx(Y,{children:e.jsx(P,{colSpan:10,className:"text-center py-8 text-muted-foreground",children:"No positions found matching your filters."})})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(b,{className:"stat-card",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Total Positions"}),e.jsx("div",{className:"mt-2 text-2xl font-bold",children:f.length})]}),e.jsxs(b,{className:"stat-card",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Total P&L"}),e.jsx("div",{className:`mt-2 text-2xl font-bold ${f.reduce((h,E)=>h+E.pnl,0)>=0?"text-green-600":"text-red-600"}`,children:j(f.reduce((h,E)=>h+E.pnl,0))})]}),e.jsxs(b,{className:"stat-card",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Active Positions"}),e.jsx("div",{className:"mt-2 text-2xl font-bold",children:f.filter(h=>h.status==="active").length})]})]}),e.jsx(Va,{open:m,onOpenChange:N,children:e.jsxs(Qs,{className:"sm:max-w-[500px]",children:[e.jsxs(Hs,{children:[e.jsx(Xs,{children:"Add New Position"}),e.jsx(Zs,{children:"Enter the details of your new position below."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(S,{children:"Position Type"}),e.jsxs(ct,{value:g,onValueChange:W,className:"flex space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{value:"equity",id:"equity"}),e.jsx(S,{htmlFor:"equity",className:"cursor-pointer",children:"Equity"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{value:"fno",id:"fno"}),e.jsx(S,{htmlFor:"fno",className:"cursor-pointer",children:"F&O"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(S,{children:"Security"}),e.jsx(lt,{onSelect:L,segment:g==="equity"?"equity":"fno",placeholder:"Search for securities..."}),u.name&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u.name})]}),g==="fno"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(S,{htmlFor:"type",children:"Option Type"}),e.jsxs(je,{onValueChange:h=>v({...u,type:h}),children:[e.jsx(re,{children:e.jsx(Ne,{placeholder:"Select option type"})}),e.jsxs(ne,{children:[e.jsx(A,{value:"CALL",children:"Call Option"}),e.jsx(A,{value:"PUT",children:"Put Option"}),e.jsx(A,{value:"FUT",children:"Future"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(S,{htmlFor:"strike",children:"Strike Price"}),e.jsx(C,{id:"strike",name:"strike",placeholder:"e.g. 18000",value:u.strike,onChange:$})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(S,{htmlFor:"qty",children:"Quantity"}),e.jsx(C,{id:"qty",name:"qty",type:"number",placeholder:"e.g. 100",value:u.qty,onChange:$})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(S,{htmlFor:"entryPrice",children:"Entry Price (₹)"}),e.jsx(C,{id:"entryPrice",name:"entryPrice",type:"number",step:"0.01",placeholder:"e.g. 1250.75",value:u.entryPrice,onChange:$})]})]}),e.jsxs(Js,{children:[e.jsx(T,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),e.jsx(T,{onClick:ut,disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 mr-2 border-2 border-r-transparent border-white rounded-full animate-spin"}),"Adding..."]}):e.jsx(e.Fragment,{children:"Add Position"})})]})]})})]})})})},mt=()=>{const[s,a]=r.useState(null),[t,n]=r.useState(!1),l=G(),{toast:o}=z(),[i,x]=r.useState({name:"",email:"",phone:"",address:"",city:"",state:"",zip:"",currentPassword:"",newPassword:"",confirmNewPassword:""});r.useEffect(()=>{const g=localStorage.getItem("user");if(!g){l("/login");return}try{const y=JSON.parse(g);a(y),x(p=>({...p,name:y.name||"",email:y.email||"",phone:y.phone||"",address:y.address||"",city:y.city||"",state:y.state||"",zip:y.zip||""}))}catch{localStorage.removeItem("user"),l("/login")}},[l]);const m=g=>{const{name:y,value:p}=g.target;x(d=>({...d,[y]:p}))},N=g=>{g.preventDefault(),n(!0),setTimeout(()=>{if(s){const y={...s,name:i.name,email:i.email,phone:i.phone,address:i.address,city:i.city,state:i.state,zip:i.zip};localStorage.setItem("user",JSON.stringify(y)),a(y),o({title:"Profile updated",description:"Your profile information has been updated successfully."})}n(!1)},1e3)},u=g=>{if(g.preventDefault(),i.newPassword!==i.confirmNewPassword){o({title:"Passwords don't match",description:"New password and confirmation do not match",variant:"destructive"});return}n(!0),setTimeout(()=>{o({title:"Password updated",description:"Your password has been changed successfully."}),x(y=>({...y,currentPassword:"",newPassword:"",confirmNewPassword:""})),n(!1)},1e3)},v=g=>g.split(" ").map(y=>y[0]).join("").toUpperCase();return s?e.jsx(X,{children:e.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"User Profile"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:items-start",children:[e.jsxs(b,{className:"md:w-64 w-full",children:[e.jsx(K,{children:e.jsx(V,{className:"text-center",children:"Profile Picture"})}),e.jsxs(q,{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Ce,{className:"w-32 h-32",children:[e.jsx(Pe,{src:s.avatar||"",alt:s.name}),e.jsx(Te,{className:"text-2xl",children:v(s.name)})]}),e.jsx(T,{size:"icon",variant:"secondary",className:"absolute bottom-0 right-0 h-8 w-8 rounded-full",children:e.jsx(ra,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.email})]})]})]}),e.jsx("div",{className:"flex-1",children:e.jsxs(Fe,{defaultValue:"personal",className:"w-full",children:[e.jsxs(me,{className:"grid grid-cols-2 mb-4",children:[e.jsxs(M,{value:"personal",className:"flex items-center gap-2",children:[e.jsx(vs,{className:"h-4 w-4"}),e.jsx("span",{children:"Personal Info"})]}),e.jsxs(M,{value:"security",className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx("span",{children:"Security"})]})]}),e.jsx(B,{value:"personal",children:e.jsxs(b,{children:[e.jsxs(K,{children:[e.jsx(V,{children:"Personal Information"}),e.jsx(J,{children:"Update your personal details here."})]}),e.jsx(q,{children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"name",children:"Full Name"}),e.jsx(C,{id:"name",name:"name",value:i.name,onChange:m,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"email",children:"Email"}),e.jsx(C,{id:"email",name:"email",type:"email",value:i.email,onChange:m,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"phone",children:"Phone Number"}),e.jsx(C,{id:"phone",name:"phone",type:"tel",value:i.phone,onChange:m})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"address",children:"Address"}),e.jsx(C,{id:"address",name:"address",value:i.address,onChange:m})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"city",children:"City"}),e.jsx(C,{id:"city",name:"city",value:i.city,onChange:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"state",children:"State"}),e.jsx(C,{id:"state",name:"state",value:i.state,onChange:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"zip",children:"ZIP / Postal"}),e.jsx(C,{id:"zip",name:"zip",value:i.zip,onChange:m})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(T,{type:"submit",disabled:t,className:"flex gap-2 items-center",children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 border-2 border-r-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(na,{className:"h-4 w-4"}),e.jsx("span",{children:"Save Changes"})]})})})]})})]})}),e.jsx(B,{value:"security",children:e.jsxs(b,{children:[e.jsxs(K,{children:[e.jsx(V,{children:"Security Settings"}),e.jsx(J,{children:"Update your password or security preferences."})]}),e.jsx(q,{children:e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"currentPassword",children:"Current Password"}),e.jsx(C,{id:"currentPassword",name:"currentPassword",type:"password",value:i.currentPassword,onChange:m,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"newPassword",children:"New Password"}),e.jsx(C,{id:"newPassword",name:"newPassword",type:"password",value:i.newPassword,onChange:m,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"confirmNewPassword",children:"Confirm New Password"}),e.jsx(C,{id:"confirmNewPassword",name:"confirmNewPassword",type:"password",value:i.confirmNewPassword,onChange:m,required:!0})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(T,{type:"submit",disabled:t,className:"flex gap-2 items-center",children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 border-2 border-r-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Updating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx("span",{children:"Update Password"})]})})})]})})]})})]})})]})]})}):e.jsx(X,{children:e.jsx("div",{className:"container mx-auto py-12 flex justify-center",children:e.jsx("div",{className:"animate-pulse",children:"Loading profile..."})})})},Q=(s=50)=>{const a=[],t=new Date;let n=18500+Math.random()*500;for(let l=s;l>0;l--){const o=new Date(t);o.setDate(t.getDate()-l);const i=Math.random()*2+.1,x=n,m=x+Math.random()*100*i,N=Math.max(x-Math.random()*100*i,x*.95),u=Math.random()>.5?x+Math.random()*(m-x):x-Math.random()*(x-N);a.push({time:o.toISOString().split("T")[0],open:x,high:m,low:N,close:u}),n=u}return a},Za=[{id:"NIFTY",name:"NIFTY Index",data:Q()},{id:"BANKNIFTY",name:"BANKNIFTY Index",data:Q()},{id:"RELIANCE",name:"Reliance Industries",data:Q()},{id:"TCS",name:"Tata Consultancy Services",data:Q()},{id:"HDFCBANK",name:"HDFC Bank",data:Q()}],er=()=>{const s=r.useRef(null),a=r.useRef(null),t=r.useRef(null),[n,l]=r.useState(Za[0]),[o,i]=r.useState("1d"),[x,m]=r.useState(!1),[N,u]=r.useState("candle");ce(),z();const[v,g]=r.useState(new Date);return r.useEffect(()=>{if(!s.current)return;const y=()=>{var w;a.current&&a.current.applyOptions({width:((w=s.current)==null?void 0:w.clientWidth)||400})};a.current||(a.current=da(s.current,{layout:{background:{type:ca.Solid,color:"#ffffff"},textColor:"#333"},width:s.current.clientWidth,height:500,grid:{vertLines:{color:"#f0f3fa"},horzLines:{color:"#f0f3fa"}}})),t.current&&a.current.removeSeries(t.current);const p=n.data;let d;switch(N){case"line":d=a.current.addLineSeries({color:"#2962FF",lineWidth:2}),d.setData(p.map(w=>({time:w.time,value:w.close})));break;case"area":d=a.current.addAreaSeries({topColor:"rgba(41, 98, 255, 0.4)",bottomColor:"rgba(41, 98, 255, 0.1)",lineColor:"rgba(41, 98, 255, 1)",lineWidth:2}),d.setData(p.map(w=>({time:w.time,value:w.close})));break;case"candle":default:d=a.current.addCandlestickSeries({upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}),d.setData(p);break}return t.current=d,a.current.timeScale().fitContent(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[n,N,o]),e.jsx(X,{children:e.jsx("div",{className:"container mx-auto py-6 px-4 max-w-7xl",children:e.jsx("div",{ref:s,className:"w-full h-[500px] md:h-[600px]"})})})},sr=()=>e.jsx(Ae,{}),tr=()=>e.jsx(Ae,{}),ar=()=>e.jsx(mt,{}),rr=[{path:"/",element:e.jsx(Sa,{})},{path:"/login",element:e.jsx(Ta,{})},{path:"/register",element:e.jsx(ka,{})},{path:"/dashboard",element:e.jsx(Ae,{})},{path:"/positions",element:e.jsx(Xa,{})},{path:"/trades",element:e.jsx(sr,{})},{path:"/analytics",element:e.jsx(tr,{})},{path:"/charts",element:e.jsx(er,{})},{path:"/profile",element:e.jsx(mt,{})},{path:"/settings",element:e.jsx(ar,{})},{path:"*",element:e.jsx(Ca,{})}],nr=la(rr),lr="58723178545-2jsien8ibcfqim7g10erp8emepqv21mc.apps.googleusercontent.com";ia.createRoot(document.getElementById("root")).render(e.jsx(as,{clientId:lr,children:e.jsxs(ma,{children:[e.jsx(oa,{router:nr}),e.jsx(va,{})]})}));
